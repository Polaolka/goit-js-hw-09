{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,YAAaC,SAASC,cAAc,SACpCC,aAAcF,SAASC,cAAc,kBACrCE,YAAaH,SAASC,cAAc,iBACpCG,cAAeJ,SAASC,cAAc,oBAwBxC,SAASI,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,CAACC,EAASC,KACpCC,YAAW,KACLN,EACFI,EAAQ,qBAAqBN,YAAmBC,KAEhDM,EAAO,oBAAoBP,YAAmBC,IAAQ,GAEvDA,EAAM,IAGRQ,MAAKC,IACJpB,EAAAqB,OAAOC,QAAQF,GACfG,QAAQC,IAAIJ,EAAM,IAEnBK,OAAMC,IACLH,QAAQC,IAAIE,GACZ1B,EAAAqB,OAAOM,QAAQD,EAAM,G,CAvC3BxB,EAAKC,YAAYyB,iBAAiB,UAElC,SAA0BC,GACxBA,EAAEC,iBACF,MAAMxB,aAAEA,EAAYC,YAAEA,EAAWC,cAAEA,GAAkBN,EAC/CS,EAAQoB,OAAOzB,EAAac,OAC5BY,EAAOD,OAAOxB,EAAYa,QAKlC,SAAwBa,EAAQD,EAAMrB,GACpC,IAAIuB,EAAiB,EACjBxB,EAAW,EACf,IAAK,IAAIyB,EAAI,EAAGA,EAAIF,EAAQE,GAAK,EAC/BD,EAAiBvB,EAAQqB,EAAOG,EAChCzB,GAAY,EACZD,EAAcC,EAAUwB,E,CAT1BE,CADeL,OAAOvB,EAAcY,OACbY,EAAMrB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst refs = {\n  formElement: document.querySelector('.form'),\n  delayElement: document.querySelector('[name=\"delay\"]'),\n  stepElement: document.querySelector('[name=\"step\"]'),\n  amountElement: document.querySelector('[name=\"amount\"]'),\n};\n\nrefs.formElement.addEventListener('submit', handleChangeFofm);\n\nfunction handleChangeFofm(e) {\n  e.preventDefault();\n  const { delayElement, stepElement, amountElement } = refs;\n  const delay = Number(delayElement.value);\n  const step = Number(stepElement.value);\n  const amount = Number(amountElement.value);\n  createPromises(amount, step, delay);\n}\n\nfunction createPromises(amount, step, delay) {\n  let resultingDelay = 0;\n  let position = 0;\n  for (let i = 0; i < amount; i += 1) {\n    resultingDelay = delay + step * i;\n    position += 1;\n    createPromise(position, resultingDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`Success! Position ${position}, delay ${delay}`);\n      } else {\n        reject(`Reject! Position ${position}, delay ${delay}`);\n      }\n    }, delay);\n  });\n  promise\n    .then(value => {\n      Notify.success(value);\n      console.log(value);\n    })\n    .catch(error => {\n      console.log(error);\n      Notify.failure(error);\n    });\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","formElement","document","querySelector","delayElement","stepElement","amountElement","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","then","value","Notify","success","console","log","catch","error","failure","addEventListener","e","preventDefault","Number","step","amount","resultingDelay","i","$ce04d3a99e08e73b$var$createPromises"],"version":3,"file":"03-promises.042006bc.js.map"}